(this["webpackJsonpgestion-de-proyectos-mintic"]=this["webpackJsonpgestion-de-proyectos-mintic"]||[]).push([[0],{131:function(e,t,c){},132:function(e,t,c){},133:function(e,t,c){"use strict";c.r(t);var n,r,s,a,i,o,l,d,j,b,x,u,O,h,m,p,f,g,y,v,N,E,I,P,_,S,D,w,C,$,A,F,k,T=c(1),q=c.n(T),R=c(41),L=c.n(R),V=c(4),U=c(28),M=c(13),z=Object(T.createContext)(null),B=function(){return Object(T.useContext)(z)},G=Object(T.createContext)(null),J=function(){return Object(T.useContext)(G)},Y=c(0),Z=function(e){var t=e.roleList,c=e.children,n=J().userData;return t.includes(n.rol)?c:Object(Y.jsx)(Y.Fragment,{})},H=function(){return Object(Y.jsx)("div",{class:"bg-gradient-to-r from-indigo-500 to-blue-500 rounded-lg px-6 py-8 ring-8 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("ul",{className:"mt-12",children:[Object(Y.jsx)(X,{to:"",title:"Inicio",icon:"fas fa-home"}),Object(Y.jsxs)(Z,{roleList:["ADMINISTRADOR"],children:[Object(Y.jsx)(X,{to:"/usuarios",title:"Usuarios",icon:"fas fa-user"}),Object(Y.jsx)(X,{to:"/proyectosAdmin",title:"Proyectos-Admin",icon:"fas fa-clipboard-check"})]}),Object(Y.jsxs)(Z,{roleList:["LIDER"],children:[Object(Y.jsx)(X,{to:"/proyectosObjetivo",title:"Proyectos Objetivos",icon:"fas fa-object-group"}),Object(Y.jsx)(X,{to:"/proyectosLider/index",title:"Proyectos-Lider",icon:"fas fa-clipboard-check"})]}),Object(Y.jsxs)(Z,{roleList:["ESTUDIANTE"],children:[Object(Y.jsx)(X,{to:"/proyectosEstudiante/index",title:"Proyectos Inscritos",icon:"fas fa-clipboard-check"}),Object(Y.jsx)(X,{to:"/proyectosEstudiante/proyectosDisponibles",title:"Inscribir Proyecto",icon:"fas fa-folder-plus"})]}),Object(Y.jsx)(Q,{})]})})},Q=function(){var e=B().setToken;return Object(Y.jsx)("button",{className:"bg-gradient-to-r from-red-400 to-orange-500 text-white font-bold text-lg   rounded-xl hover:from-pink-500 hover:to-yellow-500 hadow-md my-2 disabled:opacity-50 disabled:bg-gray-700",children:Object(Y.jsx)("li",{onClick:function(){return console.log("eliminar token"),void e(null)},children:Object(Y.jsx)(M.c,{to:"/auth/login",className:"sidebar-route text-red-700",children:Object(Y.jsxs)("div",{className:"flex items-center",children:[Object(Y.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(Y.jsx)("span",{className:"text-sm  ml-2",children:"Cerrar Sesi\xf3n"})]})})})})},K=function(){return Object(Y.jsx)("div",{class:"bg-gradient-to-r from-indigo-500 to-blue-500 rounded-lg px-6 py-8 ring-8 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("div",{className:"py-5 w-full flex flex-col items-center justify-center",children:[Object(Y.jsx)("img",{src:"logo-rsoft.png",alt:"Logo",className:"h-18"}),Object(Y.jsx)("span",{className:"my-5 text-xl font-bold text-center",children:"Sistema de Gesti\xf3n de Proyectos"})]})})},W=function(){return Object(Y.jsx)("div",{children:Object(Y.jsx)("div",{className:"sidebar h-full z-40 absolute md:h-full sm:hidden transition duration-150 ease-in-out",id:"mobile-nav",children:Object(Y.jsxs)("div",{className:"px-8",children:[Object(Y.jsx)(K,{}),Object(Y.jsx)(H,{})]})})})},X=function(e){var t=e.to,c=e.title,n=e.icon;return Object(Y.jsx)("li",{children:Object(Y.jsx)(M.c,{to:t,className:function(e){return e.isActive?"sidebar-route text-white bg-indigo-700":"sidebar-route text-gray-900 hover:text-white hover:bg-indigo-400"},children:Object(Y.jsxs)("div",{className:"flex items-center",children:[Object(Y.jsx)("i",{className:n}),Object(Y.jsx)("span",{className:"text-sm  ml-2",children:c})]})})})},ee=function(){var e=Object(T.useState)(!0),t=Object(V.a)(e,2),c=t[0],n=t[1];return Object(Y.jsxs)("div",{className:"flex flex-col md:flex-row flex-no-wrap md:h-full",children:[Object(Y.jsx)("div",{className:"sidebar hidden md:flex",children:Object(Y.jsxs)("div",{className:"px-8",children:[Object(Y.jsx)(K,{}),Object(Y.jsx)(H,{})]})}),Object(Y.jsxs)("div",{className:"flex md:hidden w-full justify-between bg-gray-800 p-2 text-white",children:[Object(Y.jsx)("i",{className:"fas fa-".concat(c?"times":"bars"),onClick:function(){return n(!c)}}),Object(Y.jsx)("i",{className:"fas fa-home"})]}),c&&Object(Y.jsx)(W,{})]})},te=c(8),ce=c(10),ne=c(159),re=c(9),se=c(170),ae=Object(se.a)(n||(n=Object(re.a)(["\n  mutation Registro(\n    $nombre: String!\n    $apellido: String!\n    $identificacion: String!\n    $correo: String!\n    $rol: Enum_Rol!\n    $password: String!\n  ) {\n    registro(\n      nombre: $nombre\n      apellido: $apellido\n      identificacion: $identificacion\n      correo: $correo\n      rol: $rol\n      password: $password\n    ) {\n      token\n      error\n    }\n  }\n"]))),ie=Object(se.a)(r||(r=Object(re.a)(["\n  mutation Login($correo: String!, $password: String!) {\n    login(correo: $correo, password: $password) {\n      token\n      error\n    }\n  }\n"]))),oe=Object(se.a)(s||(s=Object(re.a)(["\n  mutation RefreshToken {\n    refreshToken {\n      token\n      error\n    }\n  }\n"]))),le=(c(121),function(e){var t=e.roleList,c=e.children,n=J().userData;return t.includes(n.rol)?c:Object(Y.jsx)("div",{"data-testid":"not-authorized",className:"text-9xl text-red-500 ",children:"No est\xe1s autorizado para ver este sitio."})}),de=function(){var e=Object(te.g)(),t=B(),c=(t.authToken,t.setToken),n=Object(T.useState)(!0),r=Object(V.a)(n,2),s=r[0],a=r[1],i=Object(ne.a)(oe),o=Object(V.a)(i,2),l=o[0],d=o[1],j=d.data,b=d.loading;d.error;return Object(T.useEffect)((function(){l()}),[l]),Object(T.useEffect)((function(){j&&(j.refreshToken.token?c(j.refreshToken.token):(c(null),e("/auth/login")),a(!1))}),[j,c,s,e]),b||s?Object(Y.jsx)("div",{children:"Loading..."}):Object(Y.jsxs)("div",{className:"flex flex-col md:flex-row flex-no-wrap h-screen",children:[Object(Y.jsx)(ee,{}),Object(Y.jsx)("div",{className:"flex w-full h-full",children:Object(Y.jsx)("div",{className:"w-full h-full  overflow-y-scroll",children:Object(Y.jsx)(te.a,{})})}),Object(Y.jsx)(ce.a,{})]})},je=c(105),be=c(137),xe=c(173),ue=c(169),Oe=c(104),he=c(164),me=Object(se.a)(a||(a=Object(re.a)(["\n  query Proyectos {\n    Proyectos {\n      _id\n      nombre\n      estado\n      objetivos {\n        _id\n        descripcion\n        tipo\n      }\n      lider {\n        _id\n        correo\n      }\n      inscripciones {\n        estado\n        estudiante {\n          _id\n          nombre\n        }\n      }\n    }\n  }\n"]))),pe=(Object(se.a)(i||(i=Object(re.a)(["\n  query ProyectosPorId($_id: String!) {\n    ProyectosPorId(_id: $_id) {\n      _id\n      estado\n      nombre\n      objetivos {\n        _id\n        tipo\n        descripcion\n      }\n    }\n  }\n"]))),Object(se.a)(o||(o=Object(re.a)(["\nquery Proyectos {\n  Proyectos {\n    _id\n    nombre\n    presupuesto\n    fechaInicio\n    fechaFin\n    estado\n    fase\n    lider {\n      _id\n      identificacion\n      nombre\n      apellido\n      correo\n      rol\n    }\n    objetivos {\n      tipo\n      descripcion\n    }\n  }\n}\n"])))),fe=Object(se.a)(l||(l=Object(re.a)(["\nquery Proyecto($_id: String!) {\n  ProyectoEstadoFase(_id: $_id) {\n    _id\n    nombre\n    presupuesto\n    fechaInicio\n    fechaFin\n    estado\n    fase\n  }\n}\n"]))),ge=function(){var e=Object(he.a)(pe),t=e.data,c=e.error,n=e.loading,r=e.refetch;return Object(T.useEffect)((function(){console.log("Data Servidor",t),r()}),[t]),Object(T.useEffect)((function(){c&&ce.b.error("Error en la consulta de los Proyectos")}),[c]),n?Object(Y.jsx)("h1",{className:"text-center display-1 h1",children:" Cargando!!"}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)("div",{children:Object(Y.jsxs)(le,{roleList:["ADMINISTRADOR"],children:[Object(Y.jsx)("h1",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight text-center",children:"Proyectos Registrados"}),Object(Y.jsx)("div",{children:Object(Y.jsx)("div",{className:"container pt-10",children:Object(Y.jsxs)("table",{className:"table table-success table-striped table-hover align-middle table-bordered ",children:[Object(Y.jsx)("thead",{className:"table-primary ",children:Object(Y.jsxs)("tr",{className:"",children:[Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"ID"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Nombre"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Presupuesto"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Fecha Inicio"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Fecha Fin"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Estado"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Fase"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Editar"})]})}),Object(Y.jsx)("tbody",{children:t&&t.Proyectos.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{className:"text-center",children:e._id.slice(20)}),Object(Y.jsx)("td",{className:"text-center",children:e.nombre}),Object(Y.jsx)("td",{className:"text-center",children:e.presupuesto}),Object(Y.jsx)("td",{className:"text-center",children:e.fechaInicio.slice(0,10)}),Object(Y.jsx)("td",{className:"text-center",children:e.fechaFin.slice(0,10)}),Object(Y.jsx)("td",{className:"text-center",children:e.estado}),Object(Y.jsx)("td",{className:"text-center",children:e.fase}),Object(Y.jsx)("td",{children:Object(Y.jsx)(M.b,{to:"/proyectosAdmin/editar/".concat(e._id),children:Object(Y.jsx)("i",{className:"fas fa-pen input-group justify-content-around "})})})]},e._id)}))})]})})})]})})})},ye=c(75),ve=c.n(ye),Ne=function(e){var t=e.disabled,c=e.loading,n=e.text,r=e.onClick,s=void 0===r?function(){}:r;return Object(Y.jsx)("button",{"data-testid":"button-loading",class:"motion-reduce:hidden animate-spin ...",viewBox:"0 0 24 24",onClick:s,disabled:t,type:"submit",className:"bg-gradient-to-r from-green-500 to-blue-600 text-white font-bold text-lg py-3 px-6  rounded-xl hover:from-pink-600 hover:to-yellow-600 hadow-md my-2 disabled:bg-gray-700",children:c?Object(Y.jsx)(ve.a,{"data-testid":"loading-in-button",type:"spin",height:30,width:30}):n})},Ee=c(11),Ie=function(e){var t=Object(T.useRef)(e),c=Object(T.useState)({}),n=Object(V.a)(c,2),r=n[0],s=n[1];return{form:t,formData:r,updateFormData:function(){s(function(){var e=new FormData(t.current),c={};return e.forEach((function(e,t){if(t.includes("nested")){var n=t.split("||"),r=Object(V.a)(n,4),s=(r[0],r[1]),a=r[2],i=r[3];Object.keys(c).includes(s)?Object.keys(c[s]).includes(a)?c[s][a][i]=e:c[s][a]=Object(Ee.a)({},i,e):c[s]=Object(Ee.a)({},a,Object(Ee.a)({},i,e))}else c[t]=e})),console.log(c),c}())}}},Pe=(Object(se.a)(d||(d=Object(re.a)(["\n  mutation Mutation($_id: String!, $campos: camposProyecto!) {\n    editarProyecto(_id: $_id, campos: $campos) {\n      _id\n      estado\n    }\n  }\n"]))),Object(se.a)(j||(j=Object(re.a)(["\n  mutation CrearProyecto(\n    $nombre: String!\n    $presupuesto: Float!\n    $fechaInicio: Date!\n    $fechaFin: Date!\n    $lider: String!\n    $objetivos: [crearObjetivo]\n  ) {\n    crearProyecto(\n      nombre: $nombre\n      presupuesto: $presupuesto\n      fechaInicio: $fechaInicio\n      fechaFin: $fechaFin\n      lider: $lider\n      objetivos: $objetivos\n    ) {\n      _id\n    }\n  }\n"])))),_e=Object(se.a)(b||(b=Object(re.a)(["\n  mutation ProyectoFaseEstado(\n    $_id: String!, \n    $estado: Enum_EstadoProyecto!, \n    $fase: Enum_FaseProyecto!\n  ) {\n    proyectoFaseEstado(\n      _id: $_id, \n      estado: $estado, \n      fase: $fase\n    ) {\n      _id\n      estado\n      fase\n  }\n}\n"]))),Se=Object(se.a)(x||(x=Object(re.a)(["\n  mutation EliminarObjetivo($idProyecto: String!, $idObjetivo: String!) {\n  eliminarObjetivo(idProyecto: $idProyecto, idObjetivo: $idObjetivo) {\n    _id\n  }\n}\n"]))),De=Object(se.a)(u||(u=Object(re.a)(["\n  mutation EditarObjetivo($idProyecto: String!, $indexObjetivo: Int!, $campos: camposObjetivo!) {\n  editarObjetivo(idProyecto: $idProyecto, indexObjetivo: $indexObjetivo, campos: $campos) {\n    _id\n  }\n}\n"]))),we=c(21),Ce=c(80),$e=function(e){var t=e.label,c=e.name,n=e.defaultValue,r=void 0===n?"":n,s=e.required,a=e.options,i=Object(T.useState)(r),o=Object(V.a)(i,2),l=o[0],d=o[1],j=[["","Seleccione una opci\xf3n",!0]].concat(Object(we.a)(Object.entries(a)));return Object(T.useEffect)((function(){d(r)}),[r]),Object(Y.jsxs)("label",{htmlFor:c,className:"flex flex-col my-3",children:[Object(Y.jsx)("span",{children:t}),Object(Y.jsx)("select",{required:s,name:c,className:"input form-select",value:l,onChange:function(e){return d(e.target.value)},children:j.map((function(e){var t;return Object(Y.jsx)("option",{value:e[0],disabled:null!==(t=e[2])&&void 0!==t&&t,children:e[1]},Object(Ce.a)())}))})]})},Ae={ADMINISTRADOR:"Administrador",ESTUDIANTE:"Estudiante",LIDER:"L\xedder"},Fe={PENDIENTE:"Pendiente",AUTORIZADO:"Autorizado",NO_AUTORIZADO:"No autorizado"},ke={ACTIVO:"Activo",INACTIVO:"Inactivo"},Te={INICIADO:"Iniciado",DESARROLLO:"Desarrollo",TERMINADO:"Terminado",NULO:"Nulo"},qe={GENERAL:"General",ESPECIFICO:"Espec\xedfico"},Re=function(){var e=Object(te.g)(),t=Ie(null),c=t.form,n=t.formData,r=t.updateFormData,s=Object(te.h)()._id,a=Object(he.a)(fe,{variables:{_id:s}}),i=a.data,o=a.error,l=a.loading,d=Object(ne.a)(_e),j=Object(V.a)(d,2),b=j[0],x=j[1],u=x.data,O=x.loading,h=x.error;return Object(T.useEffect)((function(){u&&(ce.b.success("El Proyecto se edit\xf3 Exitosamente!!"),e("/proyectosAdmin"))}),[u]),Object(T.useEffect)((function(){h&&ce.b.error("Error modificando el proyecto"),o&&ce.b.error("Error consultando el proyecto")}),[o,h]),l?Object(Y.jsx)("h1",{className:"text-center display-1 h1",children:" Cargando!!"}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("div",{className:"flew flex-col w-full h-full items-center justify-center p-11",children:[Object(Y.jsx)("h1",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight text-center",children:"Editar Estado Y Fase De Proyecto"}),Object(Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("fd",n),b({variables:Object(U.a)({_id:s},n)})},onChange:r,ref:c,children:[Object(Y.jsx)("div",{class:"container",children:Object(Y.jsxs)("div",{class:"row",children:[Object(Y.jsxs)("div",{class:"col",children:[Object(Y.jsx)("h6",{className:"text-center p-3 font-bold",children:"Nombre Del Proyecto"}),Object(Y.jsx)("input",{className:"form-control text-center",type:"text",name:"nombre",defaultValue:i.ProyectoEstadoFase.nombre,disabled:!0,readonly:!0}),Object(Y.jsx)("h6",{className:"text-center p-1 mt-2 font-bold",children:"Fecha Inicio Proyecto"}),Object(Y.jsx)("input",{className:"form-control text-center",type:"text",name:"fechaInicio",defaultValue:i.ProyectoEstadoFase.fechaInicio,disabled:!0,readonly:!0}),Object(Y.jsx)($e,{label:"Estado Del Proyecto:",name:"estado",defaultValue:i.ProyectoEstadoFase.estado,required:!0,options:ke})]}),Object(Y.jsxs)("div",{class:"col",children:[Object(Y.jsx)("h6",{className:"text-center p-3 font-bold",children:"Presupuesto Del Proyecto"}),Object(Y.jsx)("input",{className:"form-control text-center",type:"text",name:"presupuesto",defaultValue:i.ProyectoEstadoFase.presupuesto,disabled:!0,readonly:!0}),Object(Y.jsx)("h6",{className:"text-center p-1 mt-2 font-bold",children:"Fecha Fin Proyecto"}),Object(Y.jsx)("input",{className:"form-control text-center",type:"text",name:"fechaFin",defaultValue:i.ProyectoEstadoFase.fechaFin,disabled:!0,readonly:!0}),Object(Y.jsx)($e,{label:"Fase Del Proyecto:",name:"fase",defaultValue:i.ProyectoEstadoFase.fase,required:!0,options:Te})]})]})}),Object(Y.jsx)("div",{className:"container d-flex justify-content-center mt-5",children:Object(Y.jsx)(Ne,{disabled:0===Object.keys(n).length,loading:O,text:"Confirmar Cambio"})}),Object(Y.jsx)("div",{className:"container d-flex justify-content-center mt-5",children:Object(Y.jsxs)("button",{type:"button",class:"btn btn-outline-primary bg-gradient-r green-100 text-white text-bold",children:[" ",Object(Y.jsx)(M.b,{to:"/proyectosAdmin",children:"Atras "})," "]})})]})]})})},Le=Object(se.a)(O||(O=Object(re.a)(["\n  query ProyectosPorLider($id: String!) {\n    ProyectosPorLider(_id: $id) {\n      _id\n      nombre\n      fechaInicio\n      presupuesto\n      fechaFin\n      estado\n      fase\n      lider {\n        nombre\n        apellido\n      }\n    }\n  }\n"]))),Ve=Object(se.a)(h||(h=Object(re.a)(["\n  query ProyectosPorId($_id: String!) {\n    ProyectosPorId(_id: $_id) {\n      _id\n      nombre\n      presupuesto\n      fechaInicio\n      fechaFin\n      estado\n      fase\n      objetivos {\n        _id\n        descripcion\n        tipo\n      }\n      avances {\n        _id\n        fecha\n        descripcion\n        observaciones\n      }\n      inscripciones {\n        _id\n        estudiante {\n        _id\n        nombre\n        apellido\n        identificacion\n        correo\n      }\n        fechaIngreso\n        estado\n      }\n    }\n  }\n"]))),Ue=function(){var e=J().userData,t=Object(T.useState)(""),c=Object(V.a)(t,2),n=c[0],r=c[1];Object(T.useEffect)((function(){r(e._id)}),[e]);var s=Object(he.a)(Le,{variables:{id:n}}),a=s.data,i=s.loading,o=s.error;return Object(T.useEffect)((function(){console.log("data servidor ",a)}),[a]),Object(T.useEffect)((function(){o&&ce.b.error("Error en la consulta de Proyectos")}),[o]),i?Object(Y.jsx)("h1",{className:"text-center display-1 h1",children:" Cargando!!"}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)("div",{children:Object(Y.jsxs)(le,{roleList:["LIDER"],children:[Object(Y.jsx)("div",{className:"flex w-full items-center justify-center",children:Object(Y.jsx)("h1",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight",children:"Mis Proyectos"})}),Object(Y.jsx)("div",{class:"container pt-10",children:Object(Y.jsxs)("table",{class:"table table-success table-striped table-hover align-middle table-bordered ",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"col",children:"ID PROYECTO"}),Object(Y.jsx)("th",{scope:"col",children:"NOMBRE PROYECTO"}),Object(Y.jsx)("th",{scope:"col",children:"PRESUPUESTO"}),Object(Y.jsx)("th",{scope:"col",children:"INICIO"}),Object(Y.jsx)("th",{scope:"col",children:"FIN"}),Object(Y.jsx)("th",{scope:"col",children:"FASE"}),Object(Y.jsx)("th",{scope:"col",children:"ESTADO"}),Object(Y.jsx)("th",{scope:"col",children:"LIDER"}),Object(Y.jsx)("th",{scope:"col",children:"OPCIONES"})]})}),Object(Y.jsx)("tbody",{children:a&&a.ProyectosPorLider.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{class:"text-center",children:e._id.slice(20)}),Object(Y.jsx)("td",{class:"text-center",children:e.nombre}),Object(Y.jsx)("td",{class:"text-center",children:e.presupuesto}),Object(Y.jsx)("td",{class:"text-center",children:e.fechaInicio}),Object(Y.jsx)("td",{class:"text-center",children:e.fechaFin}),Object(Y.jsx)("td",{class:"text-center",children:e.fase}),Object(Y.jsx)("td",{class:"text-center",children:e.estado}),Object(Y.jsx)("td",{className:"text-center",children:e.lider.apellido}),Object(Y.jsx)("td",{class:"d-flex justify-content-around align-items-center",style:{color:"red",height:"75px"},children:Object(Y.jsx)(M.b,{to:"/proyectosLider/detalle/".concat(e._id),children:Object(Y.jsx)("i",{class:"fas fa-eye input-group justify-content-around "})})})]},e._id)}))})]})})]})})})},Me=(Object(se.a)(m||(m=Object(re.a)(["\n  mutation Mutation($proyecto: String!, $estudiante: String!) {\n    crearInscripcion(proyecto: $proyecto, estudiante: $estudiante) {\n      _id\n    }\n  }\n"]))),Object(se.a)(p||(p=Object(re.a)(["\n  mutation AprobarInscripcion($aprobarInscripcionId: String!) {\n    aprobarInscripcion(id: $aprobarInscripcionId) {\n      _id\n    }\n  }\n"])))),ze=Object(se.a)(f||(f=Object(re.a)(["\n\nmutation RechazarInscripcion($rechazarInscripcionId: String!) {\n  rechazarInscripcion(id: $rechazarInscripcionId) {\n    _id\n  }\n}\n\n"]))),Be=Object(se.a)(g||(g=Object(re.a)(["\nmutation EditarProyecto(\n    $_id: String!\n    $nombre: String!\n    $presupuesto: Float!\n    ){\n    editarProyecto(\n        _id : $_id\n        campos:{\n        nombre : $nombre\n        presupuesto : $presupuesto\n        }\n    ){\n        _id\n        nombre\n        presupuesto\n        fechaInicio\n        fechaFin\n        estado\n        fase\n        objetivos {\n            _id\n            descripcion\n            tipo\n        }\n    }\n    }\n"]))),Ge=Object(se.a)(y||(y=Object(re.a)(["\nmutation Mutation($_id: String!, $observaciones: String) {\n    editarAvanceObs(_id: $_id, observaciones: $observaciones) {\n      _id\n      observaciones\n    }\n  }\n"]))),Je=Object(se.a)(v||(v=Object(re.a)(["\nmutation Mutation($idProyecto: String!, $indexObjetivo: Int!, $campos: camposObjetivo!) {\n    editarObjetivo(idProyecto: $idProyecto, indexObjetivo: $indexObjetivo, campos: $campos) {\n      objetivos {\n        _id\n        descripcion\n        tipo\n      }\n    }\n  }\n"]))),Ye=function(){Object(te.g)();var e=Ie(null),t=e.form,c=e.formData,n=e.updateFormData,r=Object(te.h)()._id,s=Object(ne.a)(Be),a=Object(V.a)(s,2),i=a[0],o=a[1],l=o.data,d=(o.loading,o.error,Object(ne.a)(Ge)),j=Object(V.a)(d,2),b=j[0],x=j[1],u=x.data,O=(x.loading,x.error,Object(ne.a)(Je)),h=Object(V.a)(O,2),m=(h[0],h[1]);m.data,m.loading,m.error;Object(T.useEffect)((function(){l&&(R(),ce.b.success("El proyecto se edit\xf3 Exitosamente!!"))}),[l]),Object(T.useEffect)((function(){u&&ce.b.success("Avance agregado Exitosamente!!")}),[u]);var p=Object(he.a)(Ve,{variables:{_id:r}}),f=p.data,g=(p.error,p.loading),y=p.refetch,v=Object(ne.a)(Me),N=Object(V.a)(v,2),E=N[0],I=N[1],P=I.data,_=I.loading,S=I.error,D=function(e){E({variables:{aprobarInscripcionId:e}})};Object(T.useEffect)((function(){P&&(ce.b.success("Inscripcion aprobada con exito"),y())}),[P]),Object(T.useEffect)((function(){S&&ce.b.error("Error aprobando la inscripcion")}),[S]);var w=Object(ne.a)(ze),C=Object(V.a)(w,2),$=C[0],A=C[1],F=A.data,k=A.loading,q=A.error;if(Object(T.useEffect)((function(){F&&(ce.b.success("Inscripcion Rechazada con exito"),y())}),[F]),Object(T.useEffect)((function(){q&&ce.b.error("Error rechazando la inscripcion")}),[q]),k)return Object(Y.jsx)("h1",{className:"text-center display-1 h1",children:" Cargando!!"});if(_)return Object(Y.jsx)("h1",{className:"text-center display-1 h1",children:" Cargando!!"});if(g)return Object(Y.jsx)("h1",{className:"text-center display-1 h1",children:" Cargando!!"});var R=function(){document.querySelector(".editElement").disabled=!0,document.querySelector(".editElement2").disabled=!0,document.querySelector("#BtnEditar").style.display="block",document.querySelector("#btnGuardarProyecto").style.display="none"},L=function(e){document.querySelector("#idAvance").value=e.target.value,document.querySelector("#idAvanceInput").value=""};return Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(Y.jsx)("div",{class:"modal-dialog",children:Object(Y.jsxs)("div",{class:"modal-content",children:[Object(Y.jsxs)("div",{class:"modal-header",children:[Object(Y.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"REGISTRO DE OBSERVACIONES"}),Object(Y.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(Y.jsxs)("div",{class:"modal-body",children:[Object(Y.jsx)("label",{children:"ID Avance: "}),Object(Y.jsx)("input",{type:"text",id:"idAvance",style:{color:"blue"}}),Object(Y.jsxs)("div",{class:"mb-3 col-lg-10 m-3",children:[Object(Y.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Observaci\xf3n"}),Object(Y.jsx)("input",{type:"text",class:"form-control",id:"idAvanceInput"})]})]}),Object(Y.jsxs)("div",{class:"modal-footer",children:[Object(Y.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"}),Object(Y.jsx)("button",{type:"button","data-bs-dismiss":"modal",onClick:function(){var e=document.querySelector("#idAvance").value.toString(),t=document.querySelector("#idAvanceInput").value.toString();b({variables:{_id:e,observaciones:t}})},class:"btn btn-primary",children:"Guardar"})]})]})})}),Object(Y.jsx)(le,{roleList:["LIDER"],children:Object(Y.jsxs)("div",{class:"col-lg-11 m-10 d-flex flex-wrap align-items-start",children:[Object(Y.jsx)("button",{type:"button",class:"btn btn-outline-primary",children:Object(Y.jsx)("div",{className:"bg-gradient-r green-100 text-white text-bold",children:Object(Y.jsx)(M.b,{to:"/proyectosLider/index",children:"Atras "})})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("h2",{class:"col-lg-12 mb-3 bg-info p-1",children:Object(Y.jsx)("strong",{children:"PROYECTO SELECCIONADO"})}),Object(Y.jsxs)("div",{class:"accordion col-lg-12",id:"accordionExample",children:[Object(Y.jsxs)("div",{class:"accordion-item",children:[Object(Y.jsx)("h2",{class:"accordion-header",id:"headingOne",children:Object(Y.jsx)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"PROYECTO"})}),Object(Y.jsx)("div",{id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:Object(Y.jsx)("div",{class:"accordion-body d-flex flex-wrap",children:Object(Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c.presupuesto=parseFloat(c.presupuesto),console.log(c),i({variables:Object(U.a)({_id:r},c)})},onChange:n,ref:t,className:"d-flex flex-wrap",children:[Object(Y.jsxs)("div",{class:"mb-3 col-lg-3 m-3",children:[Object(Y.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Id Proyecto"}),Object(Y.jsx)("input",{type:"text",class:"form-control",value:r,disabled:!0})]}),Object(Y.jsxs)("div",{class:"mb-3 col-lg-3 m-3",children:[Object(Y.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Nombre proyecto"}),Object(Y.jsx)("input",{type:"text",class:"form-control editElement",name:"nombre",defaultValue:f.ProyectosPorId[0].nombre,disabled:!0})]}),Object(Y.jsxs)("div",{class:"mb-3 col-lg-3 m-3",children:[Object(Y.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Presupuesto"}),Object(Y.jsx)("input",{type:"text",class:"form-control editElement2",name:"presupuesto",defaultValue:f.ProyectosPorId[0].presupuesto,disabled:!0})]}),Object(Y.jsxs)("div",{class:"mb-3 col-lg-3 m-3",children:[Object(Y.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Fecha inicio"}),Object(Y.jsx)("input",{type:"text",class:"form-control",value:f.ProyectosPorId[0].fechaInicio,disabled:!0})]}),Object(Y.jsxs)("div",{class:"mb-3 col-lg-3 m-3",children:[Object(Y.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Fecha fin"}),Object(Y.jsx)("input",{type:"text",class:"form-control",value:f.ProyectosPorId[0].fechaFin,disabled:!0})]}),Object(Y.jsxs)("div",{class:"mb-3 col-lg-3 m-3",children:[Object(Y.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Estado"}),Object(Y.jsx)("input",{type:"text",class:"form-control",defaultValue:f.ProyectosPorId[0].estado,disabled:!0})]}),Object(Y.jsxs)("div",{class:"mb-3 col-lg-3 m-3",children:[Object(Y.jsx)("button",{type:"button",id:"BtnEditar",onClick:function(){document.querySelector(".editElement").disabled=!1,document.querySelector(".editElement2").disabled=!1,document.querySelector("#BtnEditar").style.display="none",document.querySelector("#btnGuardarProyecto").style.display="block"},class:"btn btn-primary",children:"Editar"}),Object(Y.jsx)("button",{type:"submit",id:"btnGuardarProyecto",style:{display:"none"},class:"btn btn-warning",children:"Guardar cambios"})]})]})})})]}),Object(Y.jsxs)("div",{class:"accordion-item",children:[Object(Y.jsx)("h2",{class:"accordion-header",id:"headingTwo",children:Object(Y.jsx)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:"OBJETIVOS"})}),Object(Y.jsx)("div",{id:"collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample",children:Object(Y.jsxs)("div",{class:"accordion-body",children:[Object(Y.jsx)("br",{}),Object(Y.jsxs)("table",{class:"table table-hover",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"col",children:"ID OBJETIVO"}),Object(Y.jsx)("th",{scope:"col",children:"TIPO"}),Object(Y.jsx)("th",{scope:"col",children:"DESCRIPCI\xd3N"})]})}),Object(Y.jsx)("tbody",{children:f&&f.ProyectosPorId[0].objetivos.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{class:"text-center",children:e._id.slice(20)}),Object(Y.jsx)("td",{class:"text-center",children:e.tipo}),Object(Y.jsx)("td",{class:"text-center",children:e.descripcion})]},e._id)}))})]}),Object(Y.jsx)("br",{})]})})]}),Object(Y.jsxs)("div",{class:"accordion-item",children:[Object(Y.jsx)("h2",{class:"accordion-header",id:"headingThree",children:Object(Y.jsx)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:"AVANCES"})}),Object(Y.jsx)("div",{id:"collapseThree",class:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample",children:Object(Y.jsx)("div",{class:"accordion-body",children:Object(Y.jsxs)("table",{className:"table table-striped table-hover align-middle table-bordered bg-gray-100",children:[Object(Y.jsx)("thead",{className:"tabla",children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"col",className:"text-center ",children:"ID AVANCE"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"DESCRIPCI\xd3N"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"OBSERVACIONES"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"OPCIONES"})]})}),Object(Y.jsx)("tbody",{children:f&&f.ProyectosPorId[0].avances.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{class:"text-center",children:e._id.slice(20)}),Object(Y.jsx)("td",{class:"text-center",children:e.descripcion}),Object(Y.jsx)("td",{class:"text-center",children:Object(Y.jsx)("ul",{children:e.observaciones.map((function(e){return Object(Y.jsx)("li",{children:e})}))})}),Object(Y.jsx)("td",{class:"d-flex justify-center",children:Object(Y.jsx)("button",{type:"button",onClick:L,value:e._id,class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Adicionar"})})]},e._id)}))})]})})})]}),Object(Y.jsxs)("div",{class:"accordion-item",children:[Object(Y.jsx)("h2",{class:"accordion-header",id:"headingFour",children:Object(Y.jsx)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour",children:"INSCRIPCIONES"})}),Object(Y.jsx)("div",{id:"collapseFour",class:"accordion-collapse collapse","aria-labelledby":"headingFour","data-bs-parent":"#accordionExample",children:Object(Y.jsx)("div",{class:"accordion-body",children:Object(Y.jsxs)("table",{class:"table table-hover",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"col",children:"ID INSCRIPCI\xd3N"}),Object(Y.jsx)("th",{scope:"col",children:"ESTUDIANTE"}),Object(Y.jsx)("th",{scope:"col",children:"FECHA INGRESO"}),Object(Y.jsx)("th",{scope:"col",children:"ESTADO"}),Object(Y.jsx)("th",{scope:"col",children:"OPCIONES"})]})}),Object(Y.jsx)("tbody",{children:f&&f.ProyectosPorId[0].inscripciones.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{class:"text-center align-middle",children:e._id.slice(20)}),Object(Y.jsx)("td",{class:"text-center align-middle",children:[e.estudiante._id.slice(20)," - ",e.estudiante.nombre," ",e.estudiante.apellido," - ",e.estudiante.correo]}),Object(Y.jsx)("td",{class:"text-center align-middle",children:e.fechaIngreso}),Object(Y.jsx)("td",{class:"text-center align-middle",children:e.estado}),Object(Y.jsxs)("td",{class:"text-center",children:["PENDIENTE"===e.estado&&Object(Y.jsx)(Ne,{onClick:function(){D(e._id)},text:"Aceptar",loading:!1,disabled:!1}),"RECHAZADO"===e.estado&&Object(Y.jsx)(Ne,{onClick:function(){D(e._id)},text:"Aceptar",loading:!1,disabled:!1}),"ACEPTADO"===e.estado&&Object(Y.jsx)(Ne,{onClick:function(){var t;t=e._id,$({variables:{rechazarInscripcionId:t}})},text:"Rechazar",loading:!1,disabled:!1})]})]},e._id)}))})]})})})]})]})]})})]})})},Ze=(Object(se.a)(N||(N=Object(re.a)(["\n  query Proyectos {\n    Proyectos {\n      nombre\n      _id\n      presupuesto\n      fechaInicio\n      fechaFin\n      estado\n      fase\n      lider {\n        nombre\n        correo\n      }\n    }\n  }\n"]))),Object(se.a)(E||(E=Object(re.a)(["\n  query Proyectos {\n    Proyectos {\n      _id\n      nombre\n      presupuesto\n      fechaInicio\n      fechaFin\n      estado\n      fase\n      lider {\n        _id\n        nombre\n        correo\n      }\n      objetivos {\n        descripcion\n        tipo\n      }\n      inscripciones {\n        estado\n        estudiante {\n          _id\n          nombre\n        }\n      }\n    }\n  }\n"])))),He=(Object(se.a)(I||(I=Object(re.a)(["\n  query ProyectosPorId($_id: String!) {\n    ProyectosPorId(_id: $_id) {\n      _id\n      estado\n      nombre\n      inscripciones {\n        estado\n        estudiante {\n          _id\n          nombre\n        }\n      }\n    }\n  }\n"]))),Object(se.a)(P||(P=Object(re.a)(["\n  query ProyectosInscritos($id: String!) {\n    ProyectosInscritos(_id: $id) {\n      _id\n      estado\n      proyecto {\n        _id\n        nombre\n        lider {\n          nombre\n        }\n      }\n      estudiante {\n        nombre\n        apellido\n      }\n    }\n  }\n"])))),Qe=Object(se.a)(_||(_=Object(re.a)(["\n  query FiltrarAvance($_id: String!) {\n    filtrarAvance(_id: $_id) {\n      _id\n      fecha\n      descripcion\n      proyecto {\n        nombre\n      }\n      observaciones\n      creadoPor {\n        nombre\n        apellido\n        estado\n      }\n    }\n  }\n"]))),Ke=Object(se.a)(S||(S=Object(re.a)(["\n  query Avance($_id: String!) {\n    Avance(_id: $_id) {\n      fecha\n      descripcion\n      _id\n      observaciones\n    }\n  }\n"]))),We=function(){var e=J().userData,t=Object(T.useState)(""),c=Object(V.a)(t,2),n=c[0],r=c[1];Object(T.useEffect)((function(){r(e._id)}),[e]);var s=Object(he.a)(He,{variables:{id:n}}),a=s.data,i=s.loading,o=s.error,l=s.refetch;return Object(T.useEffect)((function(){console.log("data servidor ",a),l()}),[a]),Object(T.useEffect)((function(){o&&ce.b.error("Error en la consulta de Proyectos")}),[o]),i?Object(Y.jsx)("h1",{className:"text-center display-1 h1",children:" Cargando!!"}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)("div",{children:Object(Y.jsxs)(le,{roleList:["ESTUDIANTE"],children:[Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("div",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight text-center",children:Object(Y.jsx)("h1",{children:"Mis Proyectos Inscritos "})}),Object(Y.jsx)("div",{class:"container pt-10",children:Object(Y.jsxs)("table",{class:"table table-success table-striped table-hover align-middle table-bordered ",children:[Object(Y.jsx)("thead",{className:"tabla",children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"ID Proyecto"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Nombre Proyecto"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Lider"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"ID Inscripci\xf3n"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Estado Inscripci\xf3n"}),Object(Y.jsxs)("th",{scope:"col",className:"text-center",children:["Nombre"," "]}),Object(Y.jsxs)("th",{scope:"col",className:"text-center",children:["Apellido"," "]}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Opciones"})]})}),Object(Y.jsx)("tbody",{children:a&&a.ProyectosInscritos.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{class:"text-center",children:e.proyecto._id.slice(20)}),Object(Y.jsx)("td",{class:"text-center",children:e.proyecto.nombre}),Object(Y.jsx)("td",{class:"text-center",children:e.proyecto.lider.nombre}),Object(Y.jsx)("td",{class:"text-center",children:e._id.slice(20)}),Object(Y.jsx)("td",{class:"text-center",children:e.estado}),Object(Y.jsx)("td",{class:"text-center",children:e.estudiante.nombre}),Object(Y.jsx)("td",{class:"text-center",children:e.estudiante.apellido}),Object(Y.jsxs)("td",{class:"d-flex justify-content-around align-items-center",style:{color:"#1588B4",height:"65px"},children:["ACEPTADO"===e.estado&&Object(Y.jsxs)(M.b,{to:"/proyectosEstudiante/avances/".concat(e.proyecto._id),children:[Object(Y.jsx)("button",{children:" Ver Avances"}),Object(Y.jsx)("i",{class:"fas fa-eye input-group justify-content-around "})]}),"ACEPTADO"===e.estado&&Object(Y.jsxs)(M.b,{to:"/proyectosEstudiante/nuevoAvance/".concat(e.proyecto._id),children:[Object(Y.jsx)("button",{children:" Crear Avance"}),Object(Y.jsx)("i",{class:"fas fa-pencil-alt input-group justify-content-around "})]}),"PENDIENTE"===e.estado&&Object(Y.jsx)("span",{children:"Inscripci\xf3n Pendiente"}),"RECHAZADO"===e.estado&&Object(Y.jsx)("span",{children:" Inscripci\xf3n Declinada"})]})]},e._id)}))})]})})]})})})},Xe=Object(se.a)(D||(D=Object(re.a)(["\n  mutation Mutation($proyecto: String!, $estudiante: String!) {\n    crearInscripcion(proyecto: $proyecto, estudiante: $estudiante) {\n      _id\n    }\n  }\n"]))),et=Object(se.a)(w||(w=Object(re.a)(["\n  mutation EditarAvance($_id: String!, $fecha: Date!, $descripcion: String!) {\n    editarAvance(_id: $_id, fecha: $fecha, descripcion: $descripcion) {\n      descripcion\n      fecha\n      _id\n      observaciones\n    }\n  }\n"]))),tt=Object(se.a)(C||(C=Object(re.a)(["\n  mutation CrearAvance(\n    $fecha: Date!\n    $descripcion: String!\n    $proyecto: String!\n    $creadoPor: String!\n  ) {\n    crearAvance(\n      fecha: $fecha\n      descripcion: $descripcion\n      proyecto: $proyecto\n      creadoPor: $creadoPor\n    ) {\n      descripcion\n      _id\n      fecha\n      observaciones\n    }\n  }\n"]))),ct=function(){var e=Object(he.a)(Ze),t=e.data,c=e.error,n=e.loading,r=e.refetch;Object(T.useEffect)((function(){console.log("data servidor ",t),r()}),[t]),Object(T.useEffect)((function(){c&&ce.b.error("Error en la consulta de Proyectos")}),[c]);var s=function(e){var t=e.idProyecto,c=e.estado,n=e.inscripciones,s=Object(T.useState)(""),a=Object(V.a)(s,2),i=a[0],o=a[1],l=Object(ne.a)(Xe),d=Object(V.a)(l,2),j=d[0],b=d[1],x=b.data,u=b.loading,O=(b.error,J().userData);Object(T.useEffect)((function(){if(O&&n){var e=n.filter((function(e){return e.estudiante._id===O._id}));e.length>0&&o(e[0].estado)}}),[O,n]),Object(T.useEffect)((function(){x&&(ce.b.success("Inscripci\xf3n creada con exito"),r())}),[x]);return Object(Y.jsx)(Y.Fragment,{children:""!==i?Object(Y.jsxs)("span",{className:"text-center",children:["Estado de ",Object(Y.jsx)("br",{})," inscripci\xf3n: ",Object(Y.jsx)("br",{}),' "',i,'"']}):Object(Y.jsx)(Ne,{onClick:function(){j({variables:{proyecto:t,estudiante:O._id}})},disabled:"INACTIVO"===c,loading:u,text:"Inscribirme",className:" bg-black"})})};return n?Object(Y.jsx)("h1",{className:"text-center display-1 h1 ",children:" Cargando!!"}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)("div",{children:Object(Y.jsxs)(le,{roleList:["ESTUDIANTE"],children:[Object(Y.jsx)("h1",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight text-center",children:"Proyectos Disponibles"}),Object(Y.jsx)("div",{className:"container pt-10",children:Object(Y.jsxs)("table",{className:"table table-success table-striped table-hover align-middle table-bordered  ",children:[Object(Y.jsx)("thead",{className:"tabla",children:Object(Y.jsxs)("tr",{className:"",children:[Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"ID"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Nombre"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Presupuesto"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Fecha Inicio"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Fecha Fin"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Estado"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Fase"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Lider"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Correo"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Opciones"})]})}),Object(Y.jsx)("tbody",{children:t&&t.Proyectos.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"row",className:"text-center",children:e._id.slice(20)}),Object(Y.jsx)("td",{className:"text-center",children:e.nombre}),Object(Y.jsx)("td",{className:"text-center",children:e.presupuesto}),Object(Y.jsx)("td",{className:"text-center",children:e.fechaInicio.slice(0,10)}),Object(Y.jsx)("td",{className:"text-center",children:e.fechaFin.slice(0,10)}),Object(Y.jsx)("td",{className:"text-center",children:e.estado}),Object(Y.jsx)("td",{className:"text-center",children:e.fase}),Object(Y.jsx)("td",{className:"text-center",children:e.lider.nombre}),Object(Y.jsx)("td",{className:"text-center",children:e.lider.correo}),Object(Y.jsxs)("td",{class:"d-flex justify-content-around align-items-center",style:{color:"#1588B4",height:"75px"},children:["ACTIVO"===e.estado&&Object(Y.jsx)(s,{idProyecto:e._id,estado:e.estado,inscripciones:e.inscripciones}),"INACTIVO"===e.estado&&Object(Y.jsx)("span",{children:"Proyecto Inactivo"})]})]},e._id)}))})]})})]})})})},nt=function(){var e=Ie(null),t=(e.form,e.formData,e.updateFormData,Object(te.h)()._id),c=Object(he.a)(Qe,{variables:{_id:t}}),n=c.data;c.error;return c.loading?Object(Y.jsx)("h1",{className:"text-center display-1 h1",children:" Cargando!!"}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)("div",{children:Object(Y.jsx)(le,{roleList:["ESTUDIANTE"],children:Object(Y.jsxs)("div",{className:"flew flex-col w-full h-full items-center justify-center p-10",children:[Object(Y.jsx)("button",{type:"button",class:"btn btn-outline-primary bg-gradient-r green-100 text-white text-bold",children:Object(Y.jsx)(M.b,{to:"/proyectosEstudiante/index",children:"Atras "})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("div",{className:" bg-gray-100 text-bold text-center display-1 h1 pt-15",children:Object(Y.jsx)("h1",{children:"Avances "})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("table",{class:"table table-success table-striped table-hover align-middle table-bordered ",children:[Object(Y.jsx)("thead",{className:"tabla",children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"ID Avance"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Fecha"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Descripci\xf3n"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Observaciones"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"nombre"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Apellido"}),Object(Y.jsx)("th",{scope:"col",className:"text-center",children:"Opciones"})]})}),Object(Y.jsx)("tbody",{children:n&&n.filtrarAvance.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"row",className:"text-center",children:e._id.slice(20)}),Object(Y.jsx)("td",{class:"text-center",children:e.fecha.slice(0,10)}),Object(Y.jsx)("td",{class:"text-center",children:e.descripcion}),Object(Y.jsx)("td",{class:"text-center",children:e.observaciones}),Object(Y.jsx)("td",{class:"text-center",children:e.creadoPor.nombre}),Object(Y.jsx)("td",{class:"text-center",children:e.creadoPor.apellido}),Object(Y.jsx)("td",{class:"d-flex justify-content-around align-items-center",style:{color:"#1588B4",height:"65px"},children:Object(Y.jsxs)(M.b,{to:"/proyectosEstudiante/editarAvance/".concat(e._id),children:[Object(Y.jsx)("button",{children:" Editar Avance "}),Object(Y.jsx)("i",{className:"fas fa-pencil-alt input-group justify-content-around "})]})})]},e._id)}))})]})]})})})})},rt=function(e){var t=e.label,c=e.name,n=e.defaultValue,r=e.type,s=e.required;return Object(Y.jsxs)("label",{htmlFor:c,className:"flex flex-col my-3 ",children:[Object(Y.jsx)("span",{className:"text-center ",children:t}),Object(Y.jsx)("input",{required:s,type:r,name:c,className:"input form-control text-center ",defaultValue:n})]})},st=function(){var e=Ie(null),t=e.form,c=e.formData,n=e.updateFormData,r=Object(te.h)()._id,s=Object(he.a)(Ke,{variables:{_id:r}}),a=s.data,i=s.error,o=s.loading,l=s.refetch,d=Object(ne.a)(et),j=Object(V.a)(d,2),b=j[0],x=j[1],u=x.data,O=x.loading,h=x.error;return Object(T.useEffect)((function(){u&&(ce.b.success("Usuario modificado correctamente"),l())}),[u]),Object(T.useEffect)((function(){h&&ce.b.error("Error modificando el usuario"),i&&ce.b.error("Error consultando el usuario")}),[i,h]),o?Object(Y.jsx)("div",{children:"Cargando...."}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)("div",{children:Object(Y.jsx)(le,{roleList:["ESTUDIANTE"],children:Object(Y.jsxs)("div",{className:"flew flex-col w-full h-full items-center justify-center p-10",children:[Object(Y.jsx)("button",{type:"button",class:"btn btn-outline-primary bg-gradient-r green-100 text-white text-bold",children:Object(Y.jsx)(M.b,{to:"/proyectosEstudiante/index",children:"Atras "})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("div",{className:" bg-gray-100 text-center display-5",children:Object(Y.jsx)("h5",{children:"Editar Avance "})}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),delete c.rol,b({variables:Object(U.a)({_id:r},c)})},onChange:n,ref:t,className:"flex flex-col items-center justify-center",children:[Object(Y.jsx)(rt,{label:"Id del Avance",type:"text",name:"_id",defaultValue:a.Avance._id,required:!1,disabled:!0}),Object(Y.jsx)(rt,{label:"Fecha",type:"text",name:"fecha",defaultValue:a.Avance.fecha.slice(0,10),required:!0}),Object(Y.jsx)(rt,{label:"Descripci\xf3n",type:"text",name:"descripcion",defaultValue:a.Avance.descripcion,required:!0}),Object(Y.jsx)(rt,{label:"Observaciones del Tutor",type:"text",name:"observaciones",defaultValue:a.Avance.observaciones,required:!1}),Object(Y.jsx)(Ne,{disabled:0===Object.keys(c).length,loading:O,text:"Guardar Cambios"})]})]})})})})},at=function(){var e=Object(te.g)(),t=Ie(),c=t.form,n=t.formData,r=t.updateFormData,s=J().userData,a=Object(T.useState)(""),i=Object(V.a)(a,2),o=i[0],l=i[1],d=Object(te.h)()._id,j=Object(ne.a)(tt),b=Object(V.a)(j,2),x=b[0],u=b[1],O=u.data;u.loading,u.error;Object(T.useEffect)((function(){console.log("data mutation",O)})),Object(T.useEffect)((function(){l(s._id)}),[s]);return Object(T.useEffect)((function(){O&&(ce.b.success("Avance Creado Correctamente"),e("/proyectosEstudiante/index"))}),[O]),Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)("div",{children:Object(Y.jsx)(le,{roleList:["ESTUDIANTE"],children:Object(Y.jsxs)("div",{className:"flew flex-col w-full h-full items-center justify-center p-10",children:[Object(Y.jsx)("button",{type:"button",class:"btn btn-outline-primary bg-gradient-r green-100 text-white text-bold",children:Object(Y.jsx)(M.b,{to:"/proyectosEstudiante/index",children:"Atras "})}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("br",{}),Object(Y.jsx)("div",{className:" bg-gray-100 text-center display-5",children:Object(Y.jsx)("h5",{children:"Crear Avance "})}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x({variables:n})},onChange:r,ref:c,className:"flex flex-col items-center justify-center",children:[Object(Y.jsx)(rt,{label:"Fecha de Creaci\xf3n",type:"date",name:"fecha",required:!0}),Object(Y.jsx)(rt,{label:"Descripci\xf3n",type:"text",name:"descripcion",required:!0}),Object(Y.jsx)(rt,{label:"ID de Proyecto",type:"text",name:"proyecto",defaultValue:d,required:!0}),Object(Y.jsx)(rt,{label:"ID de Estudiante",type:"text",name:"creadoPor",defaultValue:o,disabled:!0,required:!0}),Object(Y.jsx)(Ne,{disabled:0===Object.keys(n).length,loading:!1,text:"Crear Avance"})]})]})})})})},it=function(){return Object(Y.jsx)("div",{className:"flex flex-col h-full w-full items-center justify-center",children:Object(Y.jsx)("div",{id:"carouselExampleSlidesOnly",className:"carousel slide","data-bs-ride":"carousel",children:Object(Y.jsxs)("div",{className:"carousel-inner",children:[Object(Y.jsx)("div",{className:"carousel-item active",children:Object(Y.jsx)("img",{src:"./images/01.png",className:"d-block w-90 ",alt:"..."})}),Object(Y.jsx)("div",{className:"carousel-item",children:Object(Y.jsx)("img",{src:"./images/02.png",className:"d-block w-90",alt:"..."})}),Object(Y.jsx)("div",{className:"carousel-item",children:Object(Y.jsx)("img",{src:"./images/03.png",className:"d-block w-90",alt:"..."})}),Object(Y.jsx)("div",{className:"carousel-item",children:Object(Y.jsx)("img",{src:"./images/04.png",className:"d-block w-90",alt:"..."})}),Object(Y.jsx)("div",{className:"carousel-item",children:Object(Y.jsx)("img",{src:"./images/05.png",className:"d-block w-90",alt:"..."})})]})})})},ot=function(){return Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("div",{className:"bg-gray-100 h-100",children:[" ",Object(Y.jsx)("h1",{className:"text-center h1",children:"React Soft"}),Object(Y.jsx)(it,{})]})})},lt=function(){return Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:"Pagina 2"})},dt=Object(se.a)($||($=Object(re.a)(["\n  query Query($filtro: FiltroUsuarios) {\n    Usuarios(filtro: $filtro) {\n      _id\n      nombre\n      apellido\n      correo\n      estado\n      identificacion\n      rol\n    }\n  }\n"]))),jt=Object(se.a)(A||(A=Object(re.a)(["\n  query Usuario($_id: String!) {\n    Usuario(_id: $_id) {\n      _id\n      nombre\n      apellido\n      correo\n      estado\n      identificacion\n      rol\n    }\n  }\n"]))),bt=function(){var e=Object(he.a)(dt),t=e.data,c=e.error,n=e.loading;return Object(T.useEffect)((function(){c&&ce.b.error("Error consultando los usuarios")}),[c]),n?Object(Y.jsx)("div",{children:"Cargando...."}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)(le,{roleList:["ADMINISTRADOR"],children:Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h1",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight text-center",children:"Usuarios"}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("table",{className:"table table-success table-striped table-hover align-middle table-bordered ",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Nombre"}),Object(Y.jsx)("th",{children:"Apellidos"}),Object(Y.jsx)("th",{children:"Correo"}),Object(Y.jsx)("th",{children:"Identificaci\xf3n"}),Object(Y.jsx)("th",{children:"Rol"}),Object(Y.jsx)("th",{children:"Estado"}),Object(Y.jsx)("th",{children:"Editar"})]})}),Object(Y.jsx)("tbody",{children:t&&t.Usuarios?Object(Y.jsx)(Y.Fragment,{children:t.Usuarios.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:e.nombre}),Object(Y.jsx)("td",{children:e.apellido}),Object(Y.jsx)("td",{children:e.correo}),Object(Y.jsx)("td",{children:e.identificacion}),Object(Y.jsx)("td",{children:Ae[e.rol]}),Object(Y.jsx)("td",{children:Fe[e.estado]}),Object(Y.jsx)("td",{children:Object(Y.jsx)(M.b,{to:"/usuarios/editar/".concat(e._id),children:Object(Y.jsx)("i",{className:"fas fa-pen text-yellow-600 hover:text-yellow-400 cursor-pointer"})})})]},e._id)}))}):Object(Y.jsx)("div",{children:"No autorizado"})})]})]})})})},xt=Object(se.a)(F||(F=Object(re.a)(["\n  mutation EditarUsuario(\n    $_id: String!\n    $nombre: String!\n    $apellido: String!\n    $identificacion: String!\n    $correo: String!\n    $estado: Enum_EstadoUsuario!\n  ) {\n    editarUsuario(\n      _id: $_id\n      nombre: $nombre\n      apellido: $apellido\n      identificacion: $identificacion\n      correo: $correo\n      estado: $estado\n    ) {\n      _id\n      nombre\n      apellido\n      correo\n      estado\n      identificacion\n      rol\n    }\n  }\n"]))),ut=function(){var e=Ie(null),t=e.form,c=e.formData,n=e.updateFormData,r=Object(te.h)()._id,s=Object(he.a)(jt,{variables:{_id:r}}),a=s.data,i=s.error,o=s.loading,l=Object(ne.a)(xt),d=Object(V.a)(l,2),j=d[0],b=d[1],x=b.data,u=b.loading,O=b.error;return Object(T.useEffect)((function(){x&&ce.b.success("Usuario modificado correctamente")}),[x]),Object(T.useEffect)((function(){O&&ce.b.error("Error modificando el usuario"),i&&ce.b.error("Error consultando el usuario")}),[i,O]),o?Object(Y.jsx)("div",{children:"Cargando...."}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("div",{className:"flew flex-col w-full h-full items-center justify-center p-10",children:[Object(Y.jsx)(M.b,{to:"/usuarios",children:Object(Y.jsx)("i",{className:"fas fa-arrow-left text-gray-600 cursor-pointer font-bold text-xl hover:text-gray-900"})}),Object(Y.jsx)("h1",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight text-center",children:"Editar Usuario"}),Object(Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),delete c.rol,j({variables:Object(U.a)({_id:r},c)})},onChange:n,ref:t,className:"flex flex-col items-center justify-center",children:[Object(Y.jsx)(rt,{label:"Nombre de la persona:",type:"text",name:"nombre",defaultValue:a.Usuario.nombre,required:!0}),Object(Y.jsx)(rt,{label:"Apellido de la persona:",type:"text",name:"apellido",defaultValue:a.Usuario.apellido,required:!0}),Object(Y.jsx)(rt,{label:"Correo de la persona:",type:"email",name:"correo",defaultValue:a.Usuario.correo,required:!0}),Object(Y.jsx)(rt,{label:"Identificaci\xf3n de la persona:",type:"text",name:"identificacion",defaultValue:a.Usuario.identificacion,required:!0}),Object(Y.jsx)($e,{label:"Estado de la persona:",name:"estado",defaultValue:a.Usuario.estado,required:!0,options:Fe}),Object(Y.jsxs)("span",{children:["Rol del usuario: ",a.Usuario.rol]}),Object(Y.jsx)(Ne,{disabled:0===Object.keys(c).length,loading:u,text:"Confirmar"})]})]})})},Ot=function(){return Object(Y.jsx)("div",{className:"flex flex-col md:flex-row flex-no-wrap h-screen",children:Object(Y.jsx)("div",{className:"flex w-full h-full",children:Object(Y.jsx)("div",{className:"w-full h-full  overflow-y-scroll",children:Object(Y.jsx)(te.a,{})})})})},ht=function(){var e=B().setToken,t=Object(te.g)(),c=Ie(),n=c.form,r=c.formData,s=c.updateFormData,a=Object(ne.a)(ae),i=Object(V.a)(a,2),o=i[0],l=i[1],d=l.data;l.loading,l.error;return Object(T.useEffect)((function(){d&&d.registro.token&&(e(d.registro.token),t("/"))}),[d,e,t]),Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("div",{className:"flex flex-col h-full w-full items-center justify-center",children:[Object(Y.jsx)("h1",{className:"text-8xl text-bold text-white",children:"Reg\xedstrate"}),Object(Y.jsxs)("form",{className:"flex flex-col",onSubmit:function(e){e.preventDefault(),o({variables:r})},onChange:s,ref:n,children:[Object(Y.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[Object(Y.jsx)(rt,{label:"Nombre:",name:"nombre",type:"text",required:!0}),Object(Y.jsx)(rt,{label:"Apellido:",name:"apellido",type:"text",required:!0}),Object(Y.jsx)(rt,{label:"Documento:",name:"identificacion",type:"text",required:!0}),Object(Y.jsx)($e,{label:"Rol deseado:",name:"rol",required:!0,options:Ae}),Object(Y.jsx)(rt,{label:"Correo:",name:"correo",type:"email",required:!0}),Object(Y.jsx)(rt,{label:"Contrase\xf1a:",name:"password",type:"password",required:!0})]}),Object(Y.jsx)(Ne,{disabled:0===Object.keys(r).length,loading:!1,text:"Registrarme"})]}),Object(Y.jsx)("span",{children:"\xbfYa tienes una cuenta?"}),Object(Y.jsx)(M.b,{to:"/auth/login",children:Object(Y.jsx)("span",{className:"text-2xl text-bold text-white",children:"Inicia sesi\xf3n"})})]})})},mt=function(){var e=Object(te.g)(),t=B().setToken,c=Ie(),n=c.form,r=c.formData,s=c.updateFormData,a=Object(ne.a)(ie),i=Object(V.a)(a,2),o=i[0],l=i[1],d=l.data,j=l.loading;l.error;return Object(T.useEffect)((function(){d&&d.login.token&&(t(d.login.token),e("/"))}),[d,t,e]),Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("div",{className:"p-10 flex flex-col",children:[Object(Y.jsx)("div",{className:"flex w-full items-center justify-center",children:Object(Y.jsx)("h1",{className:"text-9xl text-white text-white font-medium tracking-tight",children:"Iniciar Sesi\xf3n"})}),Object(Y.jsx)("span",{className:"text 3xl text-bold text-white text-center",children:"!Bienvenido/a!"}),Object(Y.jsxs)("form",{className:"flex flex-col",onSubmit:function(e){e.preventDefault(),o({variables:r})},onChange:s,ref:n,children:[Object(Y.jsx)(rt,{name:"correo",type:"email",label:"Correo",required:!0}),Object(Y.jsx)(rt,{name:"password",type:"password",label:"Contrase\xf1a",required:!0}),Object(Y.jsx)(Ne,{disabled:0===Object.keys(r).length,loading:j,text:"Iniciar Sesi\xf3n"})]}),Object(Y.jsx)("span",{className:"text-1xl text-bold text-white-300",children:"\xbfNo tienes una cuenta?"}),Object(Y.jsx)(M.b,{to:"/auth/register",children:Object(Y.jsx)("span",{className:"text-2xl text-bold text-white",children:"Reg\xedstrate"})})]})})},pt=c(171),ft=c(174),gt=c(172),yt=c(178),vt=c(17),Nt=Object(vt.a)((function(e){return Object(Y.jsx)(ft.a,Object(U.a)({},e))}))((function(e){e.theme;return{backgroundColor:"#ffffff"}})),Et=Object(vt.a)((function(e){return Object(Y.jsx)(gt.a,Object(U.a)({},e))}))((function(e){e.theme;return{backgroundColor:"#ffffff"}})),It=Object(vt.a)((function(e){return Object(Y.jsx)(yt.a,Object(U.a)({},e))}))((function(e){e.theme;return{backgroundColor:"#ffffff"}})),Pt=Object(T.createContext)(null),_t=function(){return Object(T.useContext)(Pt)},St=function(e){var t=e.proyecto,c=Object(T.useState)(!1),n=Object(V.a)(c,2),r=n[0],s=n[1];return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Nt,{children:[Object(Y.jsx)(Et,{expandIcon:Object(Y.jsx)("i",{className:"text-blue-600 fas fa-hand-point-down"}),children:Object(Y.jsxs)("div",{className:"justify-center",children:[Object(Y.jsx)("div",{className:"font-bold text-black-100",children:t.nombre}),Object(Y.jsxs)("div",{className:"flex text-black-100",children:["Estado Proyecto:  .",Object(Y.jsx)("div",{className:"font-bold ",children:t.estado})]})]})}),Object(Y.jsxs)(It,{children:[Object(Y.jsx)("div",{className:"font-sans font-bold",children:"Este proyecto se encuentra liderado Por: "}),Object(Y.jsx)("div",{className:"font-sans",children:t.lider.correo}),Object(Y.jsx)("div",{className:"",children:t.objetivos.map((function(e,c){return Object(Y.jsx)(Dt,{index:c,_id:e._id,idProyecto:t._id,tipo:e.tipo,descripcion:e.descripcion})}))})]})]}),Object(Y.jsx)(pt.a,{open:r,onClose:function(){s(!1)}})]})},Dt=function(e){var t=e.index,c=e._id,n=e.idProyecto,r=e.tipo,s=e.descripcion,a=_t().refetch,i=Object(T.useState)(!1),o=Object(V.a)(i,2),l=o[0],d=o[1],j=Object(ne.a)(Se),b=Object(V.a)(j,2),x=b[0],u=b[1],O=u.data,h=u.loading;Object(T.useEffect)((function(){console.log("Eliminar Objetivo",O),O&&(a(),ce.b.success("Objetivo Eliminado"))}),[O,a]);return h?Object(Y.jsx)(ve.a,{type:"spin",height:50,width:50}):Object(Y.jsx)("div",{children:Object(Y.jsxs)("table",{class:"table table-hover table-primary text-center",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{scope:"col",children:"Tipo"}),Object(Y.jsx)("th",{scope:"col",children:"Descripcion"}),Object(Y.jsx)("th",{scope:"col",children:"Opciones"})]})}),Object(Y.jsx)("tbody",{children:Object(Y.jsxs)("tr",{className:"table-secondary ",children:[Object(Y.jsx)("td",{children:r}),Object(Y.jsx)("td",{children:s}),Object(Y.jsx)("td",{children:Object(Y.jsxs)(Z,{roleList:["LIDER"],children:[Object(Y.jsxs)("div",{className:"",children:[Object(Y.jsx)("i",{onClick:function(){return d(!0)},className:"far fa-edit mx-2 hover:text-green-600 cursor-pointer"}),Object(Y.jsx)("i",{onClick:function(){x({variables:{idProyecto:n,idObjetivo:c}})},className:"fas fa-minus-circle mx-2 hover:text-red-600 cursor-pointer"})]}),Object(Y.jsx)(pt.a,{open:l,onClose:function(){return d(!1)},children:Object(Y.jsx)(wt,{descripcion:s,tipo:r,index:t,idProyecto:n,setShowEditDialog:d})})]})})]})})]})})},wt=function(e){var t=e.descripcion,c=e.tipo,n=e.index,r=e.idProyecto,s=e.setShowEditDialog,a=_t().refetch,i=Ie(),o=i.form,l=i.formData,d=i.updateFormData,j=Object(ne.a)(De),b=Object(V.a)(j,2),x=b[0],u=b[1].data;Object(T.useEffect)((function(){u&&(ce.b.success("El Objetivo fue modificado"),s(!1),a())}),[u]);return Object(Y.jsxs)("div",{className:"p-20",children:[Object(Y.jsx)("h1",{className:"text-4xl",children:"Editar Objetivo Proyecto"}),Object(Y.jsxs)("form",{ref:o,onChange:d,onSubmit:function(e){e.preventDefault(),x({variables:{idProyecto:r,indexObjetivo:n,campos:l}})},children:[Object(Y.jsx)($e,{label:"Tipo de Objetivo",name:"tipo",required:!0,options:qe,defaultValue:c}),Object(Y.jsx)(rt,{label:"Descripcion Del Objetivo",name:"descripcion",required:!0,defaultValue:t}),Object(Y.jsx)("button",{type:"submit",onClick:function(){},className:"btn btn-primary",children:"Editar "})]})]})},Ct=function(){var e=Object(he.a)(me),t=e.data,c=e.loading,n=(e.error,e.refetch);return Object(T.useEffect)((function(){console.log("datos proyecto",t),n()}),[t]),c?Object(Y.jsx)("div",{children:"Cargando..."}):t.Proyectos?Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)(Pt.Provider,{value:{queryData:t,refetch:n},children:Object(Y.jsxs)("div",{className:"p-10 flex flex-col",children:[Object(Y.jsx)("div",{className:"flex w-full items-center justify-center",children:Object(Y.jsx)("h1",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight",children:"Lista de Proyectos con Objetivos"})}),Object(Y.jsx)(Z,{roleList:["LIDER"],children:Object(Y.jsx)("div",{className:"my-2 self-end",children:Object(Y.jsx)("button",{className:"btn btn-outline-success",children:Object(Y.jsx)(M.b,{className:"bg-blue text-gray-900 hover:text-white",to:"/proyectos/nuevo",children:"Crear Proyecto"})})})}),t.Proyectos.map((function(e){return Object(Y.jsx)(St,{proyecto:e})}))]})})}):Object(Y.jsx)(Y.Fragment,{})},$t=c(103),At=(c(131),c(132),Object(T.createContext)(null)),Ft=function(){var e=Object(T.useState)([]),t=Object(V.a)(e,2),c=t[0],n=t[1],r=Object(T.useState)(!1),s=Object(V.a)(r,2),a=s[0],i=s[1],o=function(){var e=Object(Ce.a)();return Object(Y.jsx)(kt,{id:e},e)};return Object(T.useEffect)((function(){c.length>4?i(!0):i(!1)}),[c]),Object(Y.jsx)(At.Provider,{value:{eliminarObjetivo:function(e){n(c.filter((function(t){return t.props.id!==e})))}},children:Object(Y.jsxs)("div",{children:[Object(Y.jsx)("span",{children:"Objetivos del Proyecto"}),!a&&Object(Y.jsx)("i",{onClick:function(){return n([].concat(Object(we.a)(c),[o()]))},className:"fas fa-plus rounded-full bg-green-500 hover:bg-green-400 text-white p-2 mx-2 cursor-pointer"}),c.map((function(e){return e}))]})})},kt=function(e){var t=e.id,c=Object(T.useContext)(At).eliminarObjetivo;return Object(Y.jsxs)("div",{className:"flex items-center",children:[Object(Y.jsx)(rt,{name:"nested||objetivos||".concat(t,"||descripcion"),label:"Descripci\xf3n",type:"text",required:!0}),Object(Y.jsx)($e,{name:"nested||objetivos||".concat(t,"||tipo"),options:qe,label:"Tipo de Objetivo",required:!0}),Object(Y.jsx)("i",{onClick:function(){return c(t)},className:"fas fa-minus rounded-full bg-red-500 hover:bg-red-400 text-white p-2 mx-2 cursor-pointer mt-6"})]})},Tt=function(){var e=Ie(),t=e.form,c=e.formData,n=e.updateFormData,r=Object(T.useState)({}),s=Object(V.a)(r,2),a=s[0],i=s[1],o=Object(he.a)(dt,{variables:{filtro:{rol:"LIDER",estado:"AUTORIZADO"}}}),l=o.data,d=o.loading,j=(o.error,o.refetch,Object(ne.a)(Pe)),b=Object(V.a)(j,2),x=b[0],u=b[1],O=u.data;u.loading,u.error;Object(T.useEffect)((function(){if(console.log(l),l){var e={};l.Usuarios.forEach((function(t){e[t._id]=t.correo})),i(e)}}),[l]),Object(T.useEffect)((function(){console.log("data mutation",O)}));return d?Object(Y.jsx)("div",{children:"...Loading"}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsxs)("div",{className:"p-10 flex flex-col items-center",children:[Object(Y.jsx)("div",{className:"self-start",children:Object(Y.jsx)(M.b,{to:"/proyectosObjetivo",children:Object(Y.jsx)("i",{className:"fas fa-arrow-left"})})}),Object(Y.jsx)("h1",{className:"text-7xl text-gray-900 text-white font-medium tracking-tight",children:"Crear Nuevo Proyecto"}),Object(Y.jsxs)("form",{ref:t,onChange:n,onSubmit:function(e){e.preventDefault(),c.objetivos=Object.values(c.objetivos),c.presupuesto=parseFloat(c.presupuesto),x({variables:c})},children:[Object(Y.jsx)(rt,{name:"nombre",label:"Nombre del Proyecto",required:!0,type:"text"}),Object(Y.jsx)(rt,{name:"presupuesto",label:"Presupuesto del Proyecto",required:!0,type:"number"}),Object(Y.jsx)(rt,{name:"fechaInicio",label:"Fecha de Inicio",required:!0,type:"date"}),Object(Y.jsx)(rt,{name:"fechaFin",label:"Fecha de Fin",required:!0,type:"date"}),Object(Y.jsx)($e,{label:"L\xedder",options:a,name:"lider",required:!0}),Object(Y.jsx)(Ft,{}),Object(Y.jsx)(Ne,{text:"Crear Proyecto",loading:!1,disabled:!1})]})]})})},qt=Object(se.a)(k||(k=Object(re.a)(["\n  query Inscripciones {\n    Inscripciones {\n      _id\n      estado\n      estudiante {\n        _id\n        nombre\n        apellido\n        correo\n      }\n      proyecto {\n        _id\n        nombre\n        lider {\n          _id\n        }\n      }\n    }\n  }\n"]))),Rt=function(e){var t=e.data,c=e.titulo,n=e.refetch,r=void 0===n?function(){}:n;return Object(Y.jsxs)(Nt,{children:[Object(Y.jsxs)(Et,{children:[c," (",t.length,")"]}),Object(Y.jsx)(It,{children:Object(Y.jsx)("div",{className:"flex",children:t&&t.map((function(e){return Object(Y.jsx)(Lt,{inscripcion:e,refetch:r})}))})})]})},Lt=function(e){var t=e.inscripcion,c=e.refetch,n=Object(ne.a)(Me),r=Object(V.a)(n,2),s=r[0],a=r[1],i=a.data,o=a.loading,l=a.error;Object(T.useEffect)((function(){i&&(ce.b.success("Inscripcion aprobada con exito"),c())}),[i]),Object(T.useEffect)((function(){l&&ce.b.error("Error aprobando la inscripcion")}),[l]);return Object(Y.jsxs)("div",{className:"bg-gray-900 text-gray-50 flex flex-col p-6 m-2 rounded-lg shadow-xl",children:[Object(Y.jsx)("span",{children:t.proyecto.nombre}),Object(Y.jsx)("span",{children:t.estudiante.nombre}),Object(Y.jsx)("span",{children:t.estado}),"PENDIENTE"===t.estado&&Object(Y.jsx)(Ne,{onClick:function(){s({variables:{aprobarInscripcionId:t._id}})},text:"Aprobar Inscripcion",loading:o,disabled:!1})]})},Vt=function(){var e=Object(he.a)(qt),t=e.data,c=e.loading,n=(e.error,e.refetch);return Object(T.useEffect)((function(){console.log(t)}),[t]),c?Object(Y.jsx)("div",{children:"Loading..."}):Object(Y.jsx)("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 rounded-lg px-6 py-8 ring-1 ring-gray-900/5 shadow-xl",children:Object(Y.jsx)(le,{roleList:["ADMINISTRADOR","LIDER"],children:Object(Y.jsxs)("div",{className:"p-10",children:[Object(Y.jsx)("div",{children:"Pagina de inscripciones"}),Object(Y.jsxs)("div",{className:"my-4",children:[Object(Y.jsx)(Rt,{titulo:"Inscripciones aprobadas",data:t.Inscripciones.filter((function(e){return"ACEPTADO"===e.estado})),refetch:n}),Object(Y.jsx)(Rt,{titulo:"Inscripciones pendientes",data:t.Inscripciones.filter((function(e){return"PENDIENTE"===e.estado})),refetch:n}),Object(Y.jsx)(Rt,{titulo:"Inscripciones rechazadas",data:t.Inscripciones.filter((function(e){return"RECHAZADO"===e.estado}))})]})]})})})},Ut=Object(je.a)({uri:"http://localhost:4000/graphql"}),Mt=Object(Oe.a)((function(e,t){var c=t.headers,n=JSON.parse(localStorage.getItem("token"));return{headers:Object(U.a)(Object(U.a)({},c),{},{authorization:n?"Bearer ".concat(n):""})}})),zt=new be.a({cache:new xe.a,link:Mt.concat(Ut)});var Bt=function(){var e=Object(T.useState)({}),t=Object(V.a)(e,2),c=t[0],n=t[1],r=Object(T.useState)(""),s=Object(V.a)(r,2),a=s[0],i=s[1];return Object(T.useEffect)((function(){if(a){var e=Object($t.a)(a);n({_id:e._id,nombre:e.nombre,apellido:e.apellido,identificacion:e.identificacion,correo:e.correo,rol:e.rol})}}),[a]),Object(Y.jsx)(ue.a,{client:zt,children:Object(Y.jsx)(z.Provider,{value:{authToken:a,setAuthToken:i,setToken:function(e){console.log("set token",e),i(e),e?localStorage.setItem("token",JSON.stringify(e)):localStorage.removeItem("token")}},children:Object(Y.jsx)(G.Provider,{value:{userData:c,setUserData:n},children:Object(Y.jsx)(M.a,{children:Object(Y.jsxs)(te.d,{children:[Object(Y.jsxs)(te.b,{path:"/",element:Object(Y.jsx)(de,{}),children:[Object(Y.jsx)(te.b,{path:"",element:Object(Y.jsx)(ot,{})}),Object(Y.jsx)(te.b,{path:"/usuarios",element:Object(Y.jsx)(bt,{})}),Object(Y.jsx)(te.b,{path:"/usuarios/editar/:_id",element:Object(Y.jsx)(ut,{})}),Object(Y.jsx)(te.b,{path:"/proyectosAdmin",element:Object(Y.jsx)(ge,{})}),Object(Y.jsx)(te.b,{path:"/proyectosAdmin/editar/:_id",element:Object(Y.jsx)(Re,{})}),Object(Y.jsx)(te.b,{path:"/proyectosLider/index",element:Object(Y.jsx)(Ue,{})}),Object(Y.jsx)(te.b,{path:"/proyectosLider/detalle/:_id",element:Object(Y.jsx)(Ye,{})}),Object(Y.jsx)(te.b,{path:"/proyectosEstudiante/index",element:Object(Y.jsx)(We,{})}),Object(Y.jsx)(te.b,{path:"/proyectosEstudiante/avances/:_id",element:Object(Y.jsx)(nt,{})}),Object(Y.jsx)(te.b,{path:"/proyectosEstudiante/nuevoAvance/:_id",element:Object(Y.jsx)(at,{})}),Object(Y.jsx)(te.b,{path:"/proyectosEstudiante/editarAvance/:_id",element:Object(Y.jsx)(st,{})}),Object(Y.jsx)(te.b,{path:"/proyectosEstudiante/proyectosDisponibles",element:Object(Y.jsx)(ct,{})}),Object(Y.jsx)(te.b,{path:"/proyectosObjetivo",element:Object(Y.jsx)(Ct,{})}),Object(Y.jsx)(te.b,{path:"/proyectos/nuevo",element:Object(Y.jsx)(Tt,{})}),Object(Y.jsx)(te.b,{path:"/inscripciones",element:Object(Y.jsx)(Vt,{})}),Object(Y.jsx)(te.b,{path:"page2",element:Object(Y.jsx)(lt,{})})]}),Object(Y.jsxs)(te.b,{path:"/auth",element:Object(Y.jsx)(Ot,{}),children:[Object(Y.jsx)(te.b,{path:"register",element:Object(Y.jsx)(ht,{})}),Object(Y.jsx)(te.b,{path:"login",element:Object(Y.jsx)(mt,{})})]})]})})})})})},Gt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,180)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};L.a.render(Object(Y.jsx)(q.a.StrictMode,{children:Object(Y.jsx)(Bt,{})}),document.getElementById("root")),Gt()}},[[133,1,2]]]);
//# sourceMappingURL=main.67fe81c2.chunk.js.map